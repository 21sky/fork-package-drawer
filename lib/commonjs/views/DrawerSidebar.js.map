{"version":3,"names":["DrawerSidebar","React","PureComponent","routeKey","descriptor","props","descriptors","options","Error","focused","tintColor","route","drawerLabel","title","getScreenOptions","key","routeName","drawerIcon","navigation","closeDrawer","dispatch","NavigationActions","navigate","render","ContentComponent","contentComponent","state","index","styles","container","style","contentOptions","drawerOpenProgress","routes","screenProps","getLabel","renderIcon","handleItemPress","drawerPosition","StyleSheet","create","flex"],"sources":["DrawerSidebar.tsx"],"sourcesContent":["import * as React from 'react';\nimport { StyleSheet, View, ViewStyle } from 'react-native';\nimport {\n  NavigationActions,\n  NavigationRoute,\n  NavigationScreenProp,\n} from 'react-navigation';\nimport Animated from 'react-native-reanimated';\nimport {\n  Scene,\n  NavigationDrawerState,\n  DrawerContentComponentProps,\n  SceneDescriptorMap,\n} from '../types';\n\ntype Props = {\n  contentComponent?: React.ComponentType<DrawerContentComponentProps>;\n  contentOptions?: object;\n  screenProps?: unknown;\n  navigation: NavigationScreenProp<NavigationDrawerState>;\n  descriptors: SceneDescriptorMap;\n  drawerOpenProgress: Animated.Node<number>;\n  drawerPosition: 'left' | 'right';\n  style?: ViewStyle;\n};\n\n/**\n * Component that renders the sidebar screen of the drawer.\n */\nclass DrawerSidebar extends React.PureComponent<Props> {\n  private getScreenOptions = (routeKey: string) => {\n    const descriptor = this.props.descriptors[routeKey];\n\n    if (!descriptor.options) {\n      throw new Error(\n        'Cannot access screen descriptor options from drawer sidebar'\n      );\n    }\n\n    return descriptor.options;\n  };\n\n  private getLabel = ({ focused, tintColor, route }: Scene) => {\n    const { drawerLabel, title } = this.getScreenOptions(route.key);\n    if (drawerLabel) {\n      return typeof drawerLabel === 'function'\n        ? drawerLabel({ tintColor, focused })\n        : drawerLabel;\n    }\n\n    if (typeof title === 'string') {\n      return title;\n    }\n\n    return route.routeName;\n  };\n\n  private renderIcon = ({ focused, tintColor, route }: Scene) => {\n    const { drawerIcon } = this.getScreenOptions(route.key);\n    if (drawerIcon) {\n      return typeof drawerIcon === 'function'\n        ? drawerIcon({ tintColor, focused })\n        : drawerIcon;\n    }\n    return null;\n  };\n\n  private handleItemPress = ({\n    route,\n    focused,\n  }: {\n    route: NavigationRoute;\n    focused: boolean;\n  }) => {\n    if (focused) {\n      // @ts-ignore\n      this.props.navigation.closeDrawer();\n    } else {\n      this.props.navigation.dispatch(\n        NavigationActions.navigate({ routeName: route.routeName })\n      );\n    }\n  };\n\n  render() {\n    const ContentComponent = this.props.contentComponent;\n\n    if (!ContentComponent) {\n      return null;\n    }\n\n    const { state } = this.props.navigation;\n\n    if (typeof state.index !== 'number') {\n      throw new Error(\n        'The index of the route should be state in the navigation state'\n      );\n    }\n\n    return (\n      <View style={[styles.container, this.props.style]}>\n        <ContentComponent\n          {...this.props.contentOptions}\n          navigation={this.props.navigation}\n          descriptors={this.props.descriptors}\n          drawerOpenProgress={this.props.drawerOpenProgress}\n          items={state.routes}\n          activeItemKey={\n            state.routes[state.index] ? state.routes[state.index].key : null\n          }\n          screenProps={this.props.screenProps}\n          getLabel={this.getLabel}\n          renderIcon={this.renderIcon}\n          onItemPress={this.handleItemPress}\n          drawerPosition={this.props.drawerPosition}\n        />\n      </View>\n    );\n  }\n}\n\nexport default DrawerSidebar;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n"],"mappings":"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"}